"use strict";(self.webpackChunkquote_cli_01=self.webpackChunkquote_cli_01||[]).push([[599],{8599:(Z,u,e)=>{e.r(u),e.d(u,{QuoteDocModule:()=>T});var r=e(6895),m=e(2510),t=e(4650),h=e(2327),g=e(2621),p=e(5822),f=e(4726),v=e(2993);function C(n,c){if(1&n){const o=t.EpF();t.TgZ(0,"div")(1,"app-cond-quote",4),t.NdJ("status",function(s){t.CHM(o);const d=t.oxw();return t.KtG(d.onStatus(s))}),t.qZA(),t._UZ(2,"hr"),t.qZA()}if(2&n){const o=c.$implicit;t.xp6(1),t.Q6J("condition",o)("edit",!0)}}const D=[{path:"",component:(()=>{class n{constructor(o,i,s){this.dg=o,this.mongodb=i,this.httpGen=s,this.quote_cond_list=[]}ngOnInit(){this.mongodb.general.quote_condition.length>0&&(this.quote_cond_list=JSON.parse(this.mongodb.general.quote_condition))}getClicked(o){if(2===o.index){const i=this.newCondition("T\xedtulo");this.editAddCondition(i)}}editAddCondition(o){this.dg.aDefault({title:"Condiciones Comerciales",value:o,schema:{controls:[{name:"name",label:"T\xedtulo:",type:"text",style:{width:"150px"},validators:{required:!0}},{name:"detail",label:"Descripci\xf3n:",type:"textarea",style:"w-full",totalRows:6,validators:{}}]},dgheigth:600}).subscribe(d=>{if(d){const a=this.quote_cond_list.find(l=>l.name===d.name);a?(a.name=d.name,a.detail=d.detail):this.quote_cond_list.push({name:d.name,detail:d.detail}),this.mongodb.general.quote_condition=JSON.stringify(this.quote_cond_list),this.httpGen.updateGeneral(this.mongodb.general).subscribe(l=>{})}})}onStatus(o){switch(o.tag){case"edit":this.editAddCondition(o);break;case"delete":const i=this.quote_cond_list.findIndex(s=>s.name===o.name);i>=0&&(this.quote_cond_list.splice(i,1),this.mongodb.general.quote_condition=JSON.stringify(this.quote_cond_list),this.httpGen.updateGeneral(this.mongodb.general).subscribe(s=>{}))}}newCondition(o){return{name:o}}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(h.x),t.Y36(g.r),t.Y36(p.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-quote-doc"]],decls:4,vars:2,consts:[[1,"flex","flex-col","h-screen","bg-slate-100"],[3,"buttons","onClicked"],[1,"overflow-auto","bg-white","m-1"],[4,"ngFor","ngForOf"],[3,"condition","edit","status"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"app-nav-bar",1),t.NdJ("onClicked",function(d){return i.getClicked(d)}),t.qZA(),t.TgZ(2,"div",2),t.YNc(3,C,3,2,"div",3),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("buttons","101000"),t.xp6(2),t.Q6J("ngForOf",i.quote_cond_list))},dependencies:[r.sg,f.w,v.y]}),n})()}];let Q=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(D),m.Bz]}),n})();var b=e(7392),y=e(4859),q=e(7009),x=e(6842),J=e(2469),A=e(2355);let T=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[r.ez,Q,J.R,b.Ps,y.ot,q.ZX,x.N,A.z]}),n})()}}]);