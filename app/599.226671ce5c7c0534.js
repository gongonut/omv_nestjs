"use strict";(self.webpackChunkquote_cli_01=self.webpackChunkquote_cli_01||[]).push([[599],{8599:(b,u,n)=>{n.r(u),n.d(u,{QuoteDocModule:()=>Z});var r=n(6895),h=n(2510),t=n(4650),m=n(2327),p=n(5822),v=n(8139),f=n(4726),g=n(2993);function C(e,d){if(1&e){const o=t.EpF();t.TgZ(0,"div")(1,"app-cond-quote",4),t.NdJ("status",function(s){t.CHM(o);const a=t.oxw();return t.KtG(a.onStatus(s))}),t.qZA(),t._UZ(2,"hr"),t.qZA()}if(2&e){const o=d.$implicit;t.xp6(1),t.Q6J("condition",o)("edit",!0)}}const D=[{path:"",component:(()=>{class e{constructor(o,i,s){this.dg=o,this.httpGen=i,this.sharedvar=s,this.quote_cond_list=[]}ngOnInit(){this.sharedvar.general.quote_condition.length>0&&(this.quote_cond_list=JSON.parse(this.sharedvar.general.quote_condition))}getClicked(o){if(2===o.index){const i=this.newCondition("T\xedtulo");this.editAddCondition(i)}}editAddCondition(o){this.dg.aDefault({title:"Condiciones Comerciales",value:o,schema:{controls:[{name:"name",label:"T\xedtulo:",type:"text",style:{width:"150px"},validators:{required:!0}},{name:"detail",label:"Descripci\xf3n:",type:"textarea",style:"w-full",totalRows:6,validators:{}}]},dgheigth:600}).subscribe(a=>{if(a){const c=this.quote_cond_list.find(l=>l.name===a.name);c?(c.name=a.name,c.detail=a.detail):this.quote_cond_list.push({name:a.name,detail:a.detail}),this.sharedvar.general.quote_condition=JSON.stringify(this.quote_cond_list),this.httpGen.updateGeneral(this.sharedvar.general).subscribe(l=>{})}})}onStatus(o){switch(o.tag){case"edit":this.editAddCondition(o);break;case"delete":const i=this.quote_cond_list.findIndex(s=>s.name===o.name);i>=0&&(this.quote_cond_list.splice(i,1),this.sharedvar.general.quote_condition=JSON.stringify(this.quote_cond_list),this.httpGen.updateGeneral(this.sharedvar.general).subscribe(s=>{}))}}newCondition(o){return{name:o}}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(m.x),t.Y36(p.g),t.Y36(v.m))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-quote-doc"]],decls:4,vars:2,consts:[[1,"flex","flex-col","h-screen","bg-slate-100"],[3,"buttons","onClicked"],[1,"overflow-auto","bg-white","m-1"],[4,"ngFor","ngForOf"],[3,"condition","edit","status"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"app-nav-bar",1),t.NdJ("onClicked",function(a){return i.getClicked(a)}),t.qZA(),t.TgZ(2,"div",2),t.YNc(3,C,3,2,"div",3),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("buttons","101000"),t.xp6(2),t.Q6J("ngForOf",i.quote_cond_list))},dependencies:[r.sg,f.w,g.y]}),e})()}];let Q=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(D),h.Bz]}),e})();var y=n(7392),q=n(4859),x=n(7009),J=n(6842),A=n(2469),T=n(2355);let Z=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.ez,Q,A.R,y.Ps,q.ot,x.ZX,J.N,T.z]}),e})()}}]);